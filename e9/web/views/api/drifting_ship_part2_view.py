from flask import Blueprint, request

api = Blueprint('drifting_ship_part2_api', __name__, url_prefix='/')

m1 = (10 - 0.05) / (0.0035 - 0.00105)
m2 = (10 - 0.05) / (0.0035 - 30)

@api.route('/phase-change-diagram', methods=['GET'])
def phase_change_diagram():
    pressure = float(request.args.get('pressure'))
    svl = round(1 / m1 * (pressure - 10.0 + m1 * 0.0035), 10)
    svv = round(1 / m2 * (pressure - 10.0 + m2 * 0.0035), 10)
    print(f"pressure: {pressure} -> ({svl}, {svv})")
    return {
        "specific_volume_liquid": svl,
        "specific_volume_vapor": svv
    }

# test Cases:
"""
1.94376417050864 -> (0.0015163037404770016, 24.290824428074135)
3.8577638835120167 -> (0.001987590101970295, 18.520644288264503)
3.702997353818525 -> (0.0019494817604879782, 18.987222600621372)
9.238651783386459 -> (0.0033125323486730474, 2.2987544502158888)
7.783828936332336 -> (0.002954309637589369, 6.684643247367548)
3.0276242615601974 -> (0.0017831838633992443, 21.023285812875333)
5.218762678007351 -> (0.0023227104081525634, 14.417609078306786)
6.822426728893164 -> (0.0027175824608832414, 9.583005188618717)
2.600238866219257 -> (0.0016779482635414249, 22.31173465823659)
10.0 -> (0.0034999999999999996, 0.0035000000000000005)
"""